<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="First Name" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="firstName" value="#{userView.user.firstName}" required="true" requiredMessage="First Name should not be null">
						<p:ajax listener="#{userView.formatFirstName()}" update="firstName" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Last Name" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="lastName" value="#{userView.user.lastName}" required="true" requiredMessage="Last Name should not be null">
						<p:ajax listener="#{userView.formatLastName()}" update="lastName" />
					</p:inputText>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Email" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="email" value="#{userView.user.email}">
						<p:ajax listener="#{userView.formatEmail()}" update="email" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Password" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.password}" rendered="#{userView.isAddPage}" />
					<p:inputText value="********" readonly="true" rendered="#{userView.isEditPage}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="CIN" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="cin" value="#{userView.user.cin}">
						<p:ajax listener="#{userView.formatCin()}" update="cin" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Birthday" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.user.birthday}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" required="true" requiredMessage="Birthday should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Gender" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<h:selectOneMenu value="#{userView.user.gender}" required="true" requiredMessage="Gender should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItem itemLabel="Yes" itemValue="true" />
						<f:selectItem itemLabel="No" itemValue="false" />
					</h:selectOneMenu>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Job/Function" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:selectOneMenu value="#{userView.user.job}">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItem itemLabel="Driver" itemValue="Driver" />
						<f:selectItem itemLabel="Technician" itemValue="Technician" />
						<f:selectItem itemLabel="Team Leader" itemValue="Team Leader" />
						<f:selectItem itemLabel="Engineer" itemValue="Engineer" />
						<f:selectItem itemLabel="Project Manager" itemValue="Project Manager" />
						<f:selectItem itemLabel="Doctor" itemValue="Doctor" />
						<f:selectItem itemLabel="Warehouse Manager" itemValue="Warehouse Manager" />
						<f:selectItem itemLabel="Other" itemValue="Other" />
					</p:selectOneMenu>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Passport Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.passportId}" required="true" requiredMessage="Passport Id should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Passport Expire Date" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.user.userData.passportExpireDate}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" required="true"
						requiredMessage="Passport Expire Date should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.driveLicenceId}" required="true" requiredMessage="Drive Licence Id should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Type" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.driveLicenceType}" required="true" requiredMessage="Drive Licence Type should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Issued Date" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.user.userData.driveLicenceIssuedDate}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" required="true"
						requiredMessage="Drive Licence Issued Date should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Expire Date" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.user.userData.driveLicenceExpireDate}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" required="true"
						requiredMessage="Drive Licence Expire Date should not be null" />
				</div>
			</div>
		</div>
	</div>
	<h4 class="header blue bolder smaller">
		<h:outputText value="Company Informations" />
	</h4>
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Company Type " />
				</label>
				<div class="col-xs-9 col-sm-9">
					<h:selectOneMenu value="#{userView.user.companyType}" required="true" requiredMessage="Company Type should not be null" disabled="#{!sessionView.internal}">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItems value="#{CompanyType.ALL_ENUM_VALUES}" />
						<p:ajax update="company,lineManager" />
					</h:selectOneMenu>
				</div>
			</div>
		</div>
		<h:panelGroup id="company">
			<f:subview rendered="#{CompanyType.CUSTOMER==userView.user.companyType}">
				<div class="col-xs-12 col-sm-6">
					<div class="form-group">
						<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
							<h:outputText value="Company Name" />
						</label>
						<div class="col-xs-9 col-sm-9">
							<p:selectOneMenu value="#{userView.user.customerId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Customer should not be null" disabled="#{!sessionView.internal}">
								<f:selectItem itemLabel="---" noSelectionOption="true" />
								<f:selectItems value="#{customerView.findLight()}" var="item" itemLabel="#{item.name}" itemValue="#{item.id}" />
								<p:ajax update=":main_form:lineManager" />
							</p:selectOneMenu>
						</div>
					</div>
				</div>
			</f:subview>
			<f:subview rendered="#{CompanyType.SUPPLIER==userView.user.companyType}">
				<div class="col-xs-12 col-sm-6">
					<div class="form-group">
						<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
							<h:outputText value="Company Name" />
						</label>
						<div class="col-xs-9 col-sm-9">
							<p:selectOneMenu value="#{userView.user.supplierId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Supplier should not be null" disabled="#{!sessionView.internal}">
								<f:selectItem itemLabel="---" noSelectionOption="true" />
								<f:selectItems value="#{supplierView.findLight()}" var="item" itemLabel="#{item.name}" itemValue="#{item.id}" />
								<p:ajax update=":main_form:lineManager" />
							</p:selectOneMenu>
						</div>
					</div>
				</div>
			</f:subview>
			<!-- <f:subview rendered="#{CompanyType.OTHER==userView.user.companyType}">
				<div class="col-xs-12 col-sm-6">
					<div class="form-group">
						<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
							<h:outputText value="Company Name" />
						</label>
						<div class="col-xs-9 col-sm-9">
							<p:inputText value="#{userView.user.company}" required="true" requiredMessage="Company should not be null" readonly="#{!sessionView.internal}">
								<p:ajax update=":main_form:lineManager" event="blur" />
							</p:inputText>
						</div>
					</div>
				</div>
			</f:subview> -->
		</h:panelGroup>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="LM Type" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<h:selectOneMenu value="#{userView.user.lineManager.internal}" required="true" requiredMessage="LM Type should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItem itemLabel="Internal" itemValue="true" />
						<f:selectItem itemLabel="External" itemValue="false" />
						<p:ajax update="lineManager" />
					</h:selectOneMenu>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Line Manager" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<h:panelGroup id="lineManager">
						<p:selectOneMenu value="#{userView.user.lineManager}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Line Manager should not be null"
							converter="#{genericSecuredConverter}" rendered="#{userView.user.lineManager.internal}">
							<f:selectItem itemLabel="---" noSelectionOption="true" />
							<f:selectItems value="#{userView.findLightAndActive()}" var="item" itemLabel="#{item.fullName}" itemValue="#{item}" />
						</p:selectOneMenu>
						<p:selectOneMenu value="#{userView.user.lineManager}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Line Manager should not be null"
							converter="#{genericSecuredConverter}" rendered="#{!userView.user.lineManager.internal}">
							<f:selectItem itemLabel="---" noSelectionOption="true" />
							<f:selectItems value="#{userView.findLightAndActive()}" var="item" itemLabel="#{item.fullName}" itemValue="#{item}" />
						</p:selectOneMenu>
					</h:panelGroup>
				</div>
			</div>
		</div>
	</div>
	<h4 class="header blue bolder smaller">
		<h:outputText value="Contact Informations" />
	</h4>
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Phone" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="phone" value="#{userView.user.phone}" placeholder="example : +212999999999">
						<p:ajax listener="#{userView.formatPhone()}" update="phone" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Phone2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.phone2}" required="true" requiredMessage="Phone2 should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Business Phone" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.businessPhone}" required="true" requiredMessage="Business Phone should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Business Fax" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.businessFax}" required="true" requiredMessage="Business Fax should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Home Address" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.homeAddress}" required="true" requiredMessage="Home Address should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Home Phone" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.homePhone}" required="true" requiredMessage="Home Phone should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Name1" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.emergencyName1}" required="true" requiredMessage="Emergency Name1 should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Phone1" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.emergencyPhone1}" required="true" requiredMessage="Emergency Phone1 should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Name2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.emergencyName2}" required="true" requiredMessage="Emergency Name2 should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Phone2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.emergencyPhone2}" required="true" requiredMessage="Emergency Phone2 should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Skype Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.skypeId}" required="true" requiredMessage="Skype Id should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Im Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.user.userData.imId}" required="true" requiredMessage="Im Id should not be null" />
				</div>
			</div>
		</div>
	</div>
</ui:composition>